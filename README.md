# Avito backend assigment 
## Запуск
```shell
make docker-up
```

Сервис запускается на адресе http://localhost:8085

Swagger документация доступна по адресу http://localhost:8085/swagger/index.html

## Make file
В make файле достуны следующие команды
- ```build``` - сборка сервиса
- ```gen-swagger``` - генерайия Swagger документации
- ```docker-up``` - запуск контейнера
- ```gen-mock``` - генерация моков
- ```test``` - запуск юнит и интеграционных тестов
- ```test-ci``` - запуск юнит тестов

## Детали
- При удалении сегмента каскадно удаляются все сужесвующие записи
о принадлежность того или иного пользователя к этому сегменту
-  При попытке удаления у пользователя несуществующего сегмента возвращается ошибка
- Добавление-удаление сегментов пользователю обернуто в транзакцию. При возникновении ошибки 
с одним сегментов предыдущие действия в рамках запрома откатываются
